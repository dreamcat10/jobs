{"remainingRequest":"D:\\H5\\project\\HBuilderProjects\\jobs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\H5\\project\\HBuilderProjects\\jobs\\src\\views\\news\\News.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\H5\\project\\HBuilderProjects\\jobs\\src\\views\\news\\News.vue","mtime":1678175755719},{"path":"D:\\H5\\project\\HBuilderProjects\\jobs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673771979702},{"path":"D:\\H5\\project\\HBuilderProjects\\jobs\\node_modules\\babel-loader\\lib\\index.js","mtime":1673772004305},{"path":"D:\\H5\\project\\HBuilderProjects\\jobs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1673771979702},{"path":"D:\\H5\\project\\HBuilderProjects\\jobs\\node_modules\\vue-loader\\lib\\index.js","mtime":1673772000036}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TopBar from \"@/components/common/TopBar.vue\"\nimport UserList from \"@/components/content/news/UserList.vue\"\nimport ChatRoom from \"@/components/content/news/ChatRoom.vue\"\nimport {chatRooms} from \"@/network/chat.js\"\nexport default{\n\tname: \"News\",\n\tdata(){\n\t\treturn{\n\t\t\trooms: [],\n\t\t\troom: {},\n\t\t\tindex: 0,\n\t\t\temp: {},\n\t\t\tlogMap: [],\n\t\t}\n\t},\n\tactivated() {\t\t\t\n\t\tthis.chat(this.$store.getters.getUser.id)\n\t\tthis.toChat(this.index)\n\t},\n\tcomponents:{\n\t\tTopBar,\n\t\tUserList,\n\t\tChatRoom\n\t},\n\tmethods:{\n\t\ttoChat(index){\n\t\t\tthis.index = index\n\t\t\tthis.room = this.rooms[index]\n\t\t},\n\t\t async chat(id){\n\t\t\tawait chatRooms(id).then(res => {\n\t\t\t\tlet data = res.data\n\t\t\t\tif(data.code == 200){\n\t\t\t\t\tlet rooms = data.data\n\t\t\t\t\tthis.rooms = rooms\n\t\t\t\t\tthis.$store.commit('SET_CHATROOMS',rooms);\n\t\t\t\t\trooms.map(item => {\n\t\t\t\t\t\tlet log = {\n\t\t\t\t\t\t\troomId: '',\n\t\t\t\t\t\t\tlogs: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlog.roomId = item.id,\n\t\t\t\t\t\tlog.logs = []\n\t\t\t\t\t\tthis.logMap.push(log)\n\t\t\t\t\t})\n\t\t\t\t\tthis.$store.commit('SET_CHATLOGS',this.logMap);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.log(\"获取聊天室信息失败\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t}\n}\n",{"version":3,"sources":["News.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"News.vue","sourceRoot":"src/views/news","sourcesContent":["<template>\r\n\t<div class=\"app\">\r\n\t\t<TopBar :index=2></TopBar>\r\n\t\t<el-container style=\"height: 90%;\">\r\n\t\t  <el-aside width=\"200px\">\r\n\t\t\t  <UserList :rooms=\"rooms\" @toChat=\"toChat\"></UserList>\r\n\t\t  </el-aside>\r\n\t\t  <el-main>\r\n\t\t\t  <ChatRoom :room=room :key=\"index\"></ChatRoom>\r\n\t\t  </el-main>\r\n\t\t</el-container>\r\n\t</div>\n</template>\n\n<script>\r\n\timport TopBar from \"@/components/common/TopBar.vue\"\r\n\timport UserList from \"@/components/content/news/UserList.vue\"\r\n\timport ChatRoom from \"@/components/content/news/ChatRoom.vue\"\r\n\timport {chatRooms} from \"@/network/chat.js\"\n\texport default{\n\t\tname: \"News\",\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\trooms: [],\r\n\t\t\t\troom: {},\r\n\t\t\t\tindex: 0,\r\n\t\t\t\temp: {},\r\n\t\t\t\tlogMap: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tactivated() {\t\t\t\r\n\t\t\tthis.chat(this.$store.getters.getUser.id)\r\n\t\t\tthis.toChat(this.index)\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tTopBar,\r\n\t\t\tUserList,\r\n\t\t\tChatRoom\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\ttoChat(index){\r\n\t\t\t\tthis.index = index\r\n\t\t\t\tthis.room = this.rooms[index]\r\n\t\t\t},\r\n\t\t\t async chat(id){\r\n\t\t\t\tawait chatRooms(id).then(res => {\r\n\t\t\t\t\tlet data = res.data\r\n\t\t\t\t\tif(data.code == 200){\r\n\t\t\t\t\t\tlet rooms = data.data\r\n\t\t\t\t\t\tthis.rooms = rooms\r\n\t\t\t\t\t\tthis.$store.commit('SET_CHATROOMS',rooms);\r\n\t\t\t\t\t\trooms.map(item => {\r\n\t\t\t\t\t\t\tlet log = {\r\n\t\t\t\t\t\t\t\troomId: '',\r\n\t\t\t\t\t\t\t\tlogs: []\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tlog.roomId = item.id,\r\n\t\t\t\t\t\t\tlog.logs = []\r\n\t\t\t\t\t\t\tthis.logMap.push(log)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$store.commit('SET_CHATLOGS',this.logMap);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(\"获取聊天室信息失败\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\n\t}\n</script>\n\n<style> \r\n .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 150px;\n  }\n  \n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n    line-height: 160px;\r\n\tpadding-right:0;\n  }\r\n  .el-container {\r\n    height: 100%;\r\n  }\n</style>\n"]}]}